# Complete CLI Comparison: Launchable CLI v1 vs SmartTest CLI v1

## Overview
This document provides a comprehensive comparison between Launchable CLI v1 and SmartTest CLI v1 specifications with complete option listings from both specification files.

## Command Comparison Table

| Command | Launchable CLI v1 | SmartTest CLI v1 | Key Changes |
|---------|-------------------|------------------|-------------|
| **record build** | • `--name` (required: yes) - build name<br>• `--source` (required: no) - path to local Git workspace, optionally prefixed by a label<br>• `--max-days` (required: no) - the maximum number of days to collect commits retroactively<br>• `--no-submodules` (required: no) - stop collecting information from Git Submodules<br>• `--no-commit-collection` (required: no) - do not collect commit data<br>• `--scrub-pii` (required: no) - Scrub emails and names<br>• `--commit` (required: no) - set repository name and commit hash when you use --no-commit-collection option<br>• `--link` (required: no) - Set external link of title and url<br>• `--branch` (required: no) - Set repository name and branch name when you use --no-commit-collection option<br>• `--timestamp` (required: no) - Used to overwrite the build time when importing historical data | • `--name` (required: yes) - build name<br>• `--source` (required: no) - path to local Git workspace, optionally prefixed by a label<br>• `--max-days` (required: no) - the maximum number of days to collect commits retroactively<br>• `--no-submodules` (required: no) - stop collecting information from Git Submodules<br>• `--no-commit-collection` (required: no) - do not collect commit data<br>• `--commit` (required: no) - set repository name and commit hash when you use --no-commit-collection option<br>• **`--repository` (required: no)** - Set repository name and branch name when you use --no-commit-collection option<br>• **`--branch` (required: yes)** - Set branch name. A branch is a set of test sessions grouped and this option value will be used for a branch name<br>• **`--timestamp` (required: no)** - Used to overwrite the build time when importing historical data | • **Removed** `--scrub-pii` option<br>• **Removed** `--link` option<br>• **Added** `--repository` option<br>• **Modified** `--branch` option (now required, different help text)<br>• **Added** `--timestamp` option |
| **record commit** | • `--source` (required: no) - repository path<br>• `--executable` (required: no) - [Obsolete] it was to specify how to perform commit collection but has been removed<br>• `--max-days` (required: no) - the maximum number of days to collect commits retroactively<br>• `--scrub-pii` (required: no) - [Deprecated] Scrub emails and names<br>• `--import-git-log-output` (required: no) - import from the git-log output | • `--source` (required: no) - repository path<br>• `--max-days` (required: no) - the maximum number of days to collect commits retroactively<br>• `--import-git-log-output` (required: no) - import from the git-log output | • **Removed** `--executable` (obsolete)<br>• **Removed** `--scrub-pii` (deprecated) |
| **record session** | • `--build` (required: no) - build name<br>• `--save-file/--no-save-file` (required: no) - save session to file<br>• `--flavor` (required: no) - flavors<br>• `--observation` (required: no) - enable observation mode<br>• `--link` (required: no) - Set external link of title and url<br>• `--no-build` (required: no) - If you want to only send test reports, please use this option<br>• `--session-name` (required: no) - test session name<br>• `--lineage` (required: no) - Set lineage name. A lineage is a set of test sessions grouped and this option value will be used for a lineage name<br>• `--test-suite` (required: no) - Set test suite name. A test suite is a collection of test sessions<br>• `--timestamp` (required: no) - Used to overwrite the session time when importing historical data | • **`--build` (required: yes)** - build name<br>• `--save-file/--no-save-file` (required: no) - save session to file<br>• `--flavor` (required: no) - flavors<br>• `--observation` (required: no) - enable observation mode<br>• `--no-build` (required: no) - If you want to only send test reports, please use this option<br>• **`--name` (required: yes)** - test session name<br>• **`--test-suite` (required: yes)** - Set test suite name. A test suite is a collection of test sessions<br>• **`--link` (required: no)** - Set external link of title and url<br>• **`--timestamp` (required: no)** - Used to overwrite the session time when importing historical data | • **Required** `--build` (was optional)<br>• **Required** `--test-suite` (was optional)<br>• **Required** `--name` (was optional)<br>• **Renamed** `--session-name` to `--name`<br>• **Removed** `--lineage` option<br>• **Added** `--link` and `--timestamp` options |
| **record tests** | • `--base` (required: no) - (Advanced) base directory to make test names portable<br>• `--session` (required: no) - Test session ID<br>• `--build` (required: no) - build name<br>• `--subset-id` (required: no) - subset_id<br>• `--post-chunk` (required: no) - Post chunk<br>• `--flavor` (required: no) - flavors<br>• `--no-base-path-inference` (required: no) - Do not guess the base path to relativize the test file paths<br>• `--report-paths` (required: no) - Instead of POSTing test results, just report test paths in the report file then quit<br>• `--group` (required: no) - Grouping name for test results<br>• `--allow-test-before-build` (required: no)<br>• `--link` (required: no) - Set external link of title and url<br>• `--no-build` (required: no) - If you want to only send test reports, please use this option<br>• `--session-name` (required: no) - test session name<br>• `--lineage` (required: no) - Set lineage name. This option value will be passed to the record session command if a session isn't created yet<br>• `--test-suite` (required: no) - Set test suite name. This option value will be passed to the record session command if a session isn't created yet<br>• `--timestamp` (required: no) - Used to overwrite the test executed times when importing historical data | • `--base` (required: no) - (Advanced) base directory to make test names portable<br>• **`--session` (required: yes)** - Test session name specified in record session<br>• `--subset-id` (required: no) - subset id<br>• `--post-chunk` (required: no) - Post chunk<br>• `--flavor` (required: no) - flavors<br>• `--no-base-path-inference` (required: no) - Do not guess the base path to relativize the test file paths<br>• `--report-paths` (required: no) - Instead of POSTing test results, just report test paths in the report file then quit<br>• `--group` (required: no) - Grouping name for test results<br>• `--allow-test-before-build` (required: no)<br>• `--no-build` (required: no) - If you want to only send test reports, please use this option | • **Required** `--session` (was optional)<br>• **Removed** `--build`, `--link`, `--session-name`, `--lineage`, `--test-suite`, `--timestamp` |
| **subset** | • `--target` (required: no) - subsetting target from 0% to 100%<br>• `--time` (required: no) - subsetting by absolute time, in seconds<br>• `--confidence` (required: no) - subsetting by confidence from 0% to 100%<br>• `--goal-spec` (required: no) - subsetting by programmatic goal definition<br>• `--session` (required: no) - Test session ID<br>• `--base` (required: no) - (Advanced) base directory to make test names portable<br>• `--build` (required: no) - build name<br>• `--rest` (required: no) - Output the subset remainder to a file<br>• `--flavor` (required: no) - flavors<br>• `--split` (required: no) - split<br>• `--no-base-path-inference` (required: no) - Do not guess the base path to relativize the test file paths<br>• `--ignore-new-tests` (required: no) - Ignore tests that were added recently<br>• `--observation` (required: no) - enable observation mode<br>• `--get-tests-from-previous-sessions` (required: no) - get subset list from previous full tests<br>• `--output-exclusion-rules` (required: no) - outputs the exclude test list<br>• `--non-blocking` (required: no) - Do not wait for subset requests in observation mode<br>• `--ignore-flaky-tests-above` (required: no) - Ignore flaky tests above the value set by this option<br>• `--link` (required: no) - Set external link of title and url<br>• `--no-build` (required: no) - If you want to only send test reports, please use this option<br>• `--session-name` (required: no) - test session name<br>• `--lineage` (required: no) - Set lineage name<br>• `--prioritize-tests-failed-within-hours` (required: no) - Prioritize tests that failed within the specified hours<br>• `--prioritized-tests-mapping` (required: no) - Prioritize tests based on test mapping file<br>• `--test-suite` (required: no) - Set test suite name | • `--target` (required: no) - subsetting target from 0% to 100%<br>• `--time` (required: no) - subsetting by absolute time, in seconds<br>• `--confidence` (required: no) - subsetting by confidence from 0% to 100%<br>• `--goal-spec` (required: no) - subsetting by programmatic goal definition<br>• **`--session` (required: yes)** - Test session name specified in record session<br>• `--base` (required: no) - (Advanced) base directory to make test names portable<br>• `--rest` (required: no) - Output the subset remainder to a file<br>• `--flavor` (required: no) - flavors<br>• `--split` (required: no) - split<br>• `--no-base-path-inference` (required: no) - Do not guess the base path to relativize the test file paths<br>• `--ignore-new-tests` (required: no) - Ignore tests that were added recently<br>• `--observation` (required: no) - enable observation mode<br>• `--get-tests-from-previous-sessions` (required: no) - get subset list from previous full tests<br>• `--output-exclusion-rules` (required: no) - outputs the exclude test list<br>• `--non-blocking` (required: no) - Do not wait for subset requests in observation mode<br>• `--ignore-flaky-tests-above` (required: no) - Ignore flaky tests above the value set by this option<br>• `--no-build` (required: no) - If you want to only send test reports, please use this option<br>• `--prioritize-tests-failed-within-hours` (required: no) - Prioritize tests that failed within the specified hours<br>• `--prioritized-tests-mapping` (required: no) - Prioritize tests based on test mapping file<br>• **`--bin` (required: no)** - bin<br>• **`--same-bin` (required: no)** - (Advanced) gather specified tests into same bin<br>• **`--split-by-groups` (required: no)** - split by groups that were set by launchable record tests --group<br>• **`--split-by-groups-with-rest` (required: no)** - split by groups that were set by launchable record tests --group and produces with rest files<br>• **`--split-by-groups-output-dir` (required: no)** - split results output dir<br>• **`--output-exclusion-rules` (required: no)** - outputs the exclude test list | • **Required** `--session` (was optional)<br>• **Removed** `--session-name`, `--lineage`, `--test-suite`, `--build`, `--link`<br>• **Added** split-subset functionality: `--bin`, `--same-bin`, `--split-by-groups`, `--split-by-groups-with-rest`, `--split-by-groups-output-dir` |
| **record attachment** | • `--session` (required: no) - Test session ID | • **`--session` (required: yes)** - Test session name specified in record session | • **Required** `--session` (was optional) |
| **verify** | • No options | • No options | • No changes |
| **split-subset** | • `--subset-id` (required: yes) - subset id<br>• `--bin` (required: no) - bin<br>• `--rest` (required: no) - output the rest of subset<br>• `--base` (required: no) - (Advanced) base directory to make test names portable<br>• `--same-bin` (required: no) - (Advanced) gather specified tests into same bin<br>• `--split-by-groups` (required: no) - split by groups that were set by launchable record tests --group<br>• `--split-by-groups-with-rest` (required: no) - split by groups that were set by launchable record tests --group and produces with rest files<br>• `--split-by-groups-output-dir` (required: no) - split results output dir<br>• `--output-exclusion-rules` (required: no) - outputs the exclude test list | **Command removed** | • **Command removed** - functionality consolidated into `subset` command |
| **inspect subset** | • `--subset-id` (required: yes) - subset id<br>• `--json` (required: no) - display JSON format | • `--subset-id` (required: yes) - subset id<br>• `--json` (required: no) - display JSON format | • No changes |
| **inspect tests** | • `--test-session-id` (required: no) - test session id<br>• `--json` (required: no) - display JSON format | **Command not documented** | • **Command may have been removed** |
| **stats test-sessions** | • `--days` (required: no) - How many days of test sessions in the past to be stat<br>• `--flavor` (required: no) - flavors | • `--days` (required: no) - How many days of test sessions in the past to be stat<br>• `--flavor` (required: no) - flavors | • No changes |

## Summary of Key Changes

### 🔴 Breaking Changes
1. **Session Requirements**: Multiple `--session` options changed from optional to required
2. **Build Requirements**: `--build` became required in `record session` command
3. **Branch Management**: `--branch` became required in `record build` with different functionality
4. **Test Suite Requirements**: `--test-suite` became required in session creation
5. **Command Consolidation**: `split-subset` command removed, functionality moved to `subset`
6. **Option Renaming**: `--session-name` renamed to `--name` in `record session`

### ⚠️ Deprecation Cleanup
1. **Removed Options**: `--executable`, `--scrub-pii` (deprecated), various session management options from record tests
2. **Removed Commands**: `inspect tests` command may no longer be available
3. **Consolidation**: Split functionality integrated into main `subset` command
4. **Added Options**: `--repository`, `--timestamp` options in various commands

### ✅ Benefits
1. **Simplified Architecture**: Fewer commands with consolidated functionality
2. **Stricter Data Management**: Required session and test suite parameters ensure proper tracking
3. **Cleaner API**: Removal of deprecated and obsolete options
4. **Consistent Naming**: Standardized parameter names across commands

### 🔧 Migration Requirements
1. Update all scripts to provide required `--session` parameters
2. Add required `--branch` parameter to `record build` commands  
3. Add required `--test-suite` parameters to session creation commands
4. Replace `split-subset` command usage with enhanced `subset` command
5. Update `--session-name` to `--name` in `record session` commands
6. Remove any usage of deprecated options and the `inspect tests` command
7. Consider adding `--repository` and `--timestamp` options where needed
